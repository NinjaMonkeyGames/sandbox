name: Markdown Lint Utility Workflow

on:
  workflow_call:

jobs:
  markdown_lint_check:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout Code
        uses: actions/checkout@v4
        
      - name: Setup Node.js
        # Required to run the markdownlint-cli2 package
        uses: actions/setup-node@v4
        with:
          node-version: '23' 
          
      - name: Install markdownlint-cli2
        # Install the tool locally so the next step can find it
        run: npm install markdownlint-cli2
        
      - name: üîç Check Markdown Lint Version
        # This new step confirms the installed version for debugging/confirmation
        run: npx markdownlint-cli2 --version
        
      - name: üìÑ Run Markdown Lint Check with Custom Config (Direct CLI Execution)
        # Use npx to execute the locally installed package, passing your config file
        run: npx markdownlint-cli2 --config .markdownlint-cli2.jsonc .
        
      - name: Report Successful Markdown Lint Execution
        run: |
          echo "###################################################"
          echo "## MARKDOWN LINT WORKFLOW EXECUTED SUCCESSFULLY! ##"
          echo "###################################################"
          echo "Checked files using configuration: .markdownlint-cli2.jsonc via direct CLI execution."