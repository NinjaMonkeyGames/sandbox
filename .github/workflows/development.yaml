name: Development CI

on:
  push:
    branches:
      - development
  pull_request:
    branches:
      - development

jobs:
  # The linting jobs run in parallel and call the reusable workflows.
  lint-commit:
    # Use the 'uses' keyword to call the external workflow file.
    # Note: No 'runs-on' is needed here, as the job runs on the runner defined in the called workflow.
    uses: ./.github/workflows/commitlint.yaml 
    # CRITICAL: The 'secrets' key is entirely omitted to avoid the GITHUB_TOKEN conflict.
      
  lint-markdown:
    uses: ./.github/workflows/markdownlint.yaml
    # CRITICAL: The 'secrets' key is entirely omitted here as well.

  # This is your environment-specific job. It runs on its own runner.
  build-test-dev:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v4
      - name: Run Dev-Specific Build and Tests
        run: |
          echo "Running build and tests for Development environment..."
          # Add your development-specific build, test, or deployment steps here