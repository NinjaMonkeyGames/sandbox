# .github/workflows/staging.yaml
name: Staging Environment
on:
  workflow_call:
jobs:
  # COMMON LINT ENDPOINTS
  commitlint_job:
    name: Run Commit Lint
    uses: ./.github/workflows/commitlint.yaml
  
  markdownlint_job:
    name: Run Markdown Lint
    uses: ./.github/workflows/markdownlint.yaml
    
  # DIVERGENCE POINT
  staging_tasks:
    name: Staging Tasks
    runs-on: ubuntu-latest
    # This job only runs after both lints complete successfully
    needs: [commitlint_job, markdownlint_job] 
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Diverged Path Announcement
        run: echo "Lints complete. Now running staging-specific tasks."
      - name: Staging-Specific Action
        run: |
          echo "Building Staging Artifacts and deploying to preview environment..."
          # ... staging build/deploy commands